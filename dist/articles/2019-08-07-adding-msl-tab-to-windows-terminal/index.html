<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><link rel="icon" type="image/svg+xml" href="/favicon.svg"><meta name="viewport" content="width=device-width"><meta name="generator" content="Astro v4.2.6"><title>Adding MSL Shell to Windows Terminal | Ganessh Kumar</title><link rel="sitemap" href="/sitemap-index.xml"><link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Noto+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet"><link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet"><script dangerouslySetInnerHTML="[object Object]"></script><meta name="astro-view-transitions-enabled" content="true"><meta name="astro-view-transitions-fallback" content="animate"><link rel="stylesheet" href="/_astro/2013-09-01-learn-unlearn-relearn.l15eNEwx.css" /><script type="module" src="/_astro/hoisted.l-JsOPk0.js"></script></head> <body> <header> <nav class="bg-white flex border-gray-200 dark:bg-gray-900"> <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"> <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false"> <span class="sr-only">Open main menu</span> <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14"> <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"></path> </svg> </button> <div class="hidden w-full md:block md:w-auto" id="navbar-default"> <ul class="font-medium flex flex-col p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"> <li class="mb-0 z-10 text-slate-700"> <a class="no-underline" href="/"> <div class="text-slate-900 cursor-pointer"> Home </div> </a> </li> <li class="mb-0 z-10 font-semibold underline decoration-sky-500 underline-offset-2"> <a class="no-underline" href="/articles"> <div class="text-slate-900 cursor-pointer"> Articles </div> </a> </li> <li class="mb-0 z-10 text-slate-700"> <a class="no-underline" href="/projects"> <div class="text-slate-900 cursor-pointer"> Projects </div> </a> </li>  <li class="mb-0 z-10 text-slate-700"> <a class="no-underline" href="/about"> <div class="text-slate-900 cursor-pointer"> About </div> </a> </li> </ul> </div> </div> </nav> </header>  <div class="container mx-auto w-100 lg:w-2/3 2xl:w-1/2"> <h1 class="font-bold text-4xl cursor-default tracking-wide pb-2 border-b border-sky-600">Adding MSL Shell to Windows Terminal</h1> <div class="flex flex-row justify-between mt-2 mb-10"> <div class="text-slate-500 uppercase text-sm">August 6, 2019</div> <div class="text-slate-500 uppercase text-sm">windows, windows-terminal</div> </div> <div class="markdown"> <p>After installing any flavors of Linux using Windows Subsystem for Linux, WSL, on Windows 10, you open Microsoftâ€™s latest Windows Terminal and do not find your linux shell in it?</p>
<p>Then this guide is for you.</p>
<ul>
<li>Make sure you have installed your desired version of Linux from the Windows Store.</li>
</ul>
<p><img src="/assets/images/2019-08-14-adding-msl-tab-to-windows-terminal/ubuntu.png" alt="Ubuntu-18.04"></p>
<ul>
<li>In Windows Terminal click the dropdown icon and select settings. Alternatively, you can open it with <code>Ctrl + ,</code> shortcut.
This will open <code>profiles.json</code> file in your text editor</li>
</ul>
<p><img src="/assets/images/2019-08-14-adding-msl-tab-to-windows-terminal/terminal.png" alt="Terminal"></p>
<ul>
<li>In the profiles.json file, find the <code>profiles</code> section. profiles is an array where each element in the array maps to a shell (powershell or cmd or any linux shell)</li>
</ul>
<pre class="language-json"><code is:raw="" class="language-json">    <span class="token property">"profiles"</span> <span class="token operator">:</span> 
    <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token property">"acrylicOpacity"</span> <span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
            <span class="token property">"background"</span> <span class="token operator">:</span> <span class="token string">"#012456"</span><span class="token punctuation">,</span>
            <span class="token property">"closeOnExit"</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">"colorScheme"</span> <span class="token operator">:</span> <span class="token string">"Campbell"</span><span class="token punctuation">,</span>
            <span class="token property">"commandline"</span> <span class="token operator">:</span> <span class="token string">"powershell.exe"</span><span class="token punctuation">,</span>
            <span class="token property">"cursorColor"</span> <span class="token operator">:</span> <span class="token string">"#FFFFFF"</span><span class="token punctuation">,</span>
            <span class="token property">"cursorShape"</span> <span class="token operator">:</span> <span class="token string">"bar"</span><span class="token punctuation">,</span>
            <span class="token property">"fontFace"</span> <span class="token operator">:</span> <span class="token string">"Consolas"</span><span class="token punctuation">,</span>
            <span class="token property">"fontSize"</span> <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token property">"guid"</span> <span class="token operator">:</span> <span class="token string">"{61c54bbd-c2c6-5271-96e7-009a87ff44bf}"</span><span class="token punctuation">,</span>
            <span class="token property">"historySize"</span> <span class="token operator">:</span> <span class="token number">9001</span><span class="token punctuation">,</span>
            <span class="token property">"icon"</span> <span class="token operator">:</span> <span class="token string">"ms-appx:///ProfileIcons/{61c54bbd-c2c6-5271-96e7-009a87ff44bf}.png"</span><span class="token punctuation">,</span>
            <span class="token property">"name"</span> <span class="token operator">:</span> <span class="token string">"Windows PowerShell"</span><span class="token punctuation">,</span>
            <span class="token property">"padding"</span> <span class="token operator">:</span> <span class="token string">"0, 0, 0, 0"</span><span class="token punctuation">,</span>
            <span class="token property">"snapOnInput"</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">"startingDirectory"</span> <span class="token operator">:</span> <span class="token string">"%USERPROFILE%"</span><span class="token punctuation">,</span>
            <span class="token property">"useAcrylic"</span> <span class="token operator">:</span> <span class="token boolean">false</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            <span class="token property">"acrylicOpacity"</span> <span class="token operator">:</span> <span class="token number">0.75</span><span class="token punctuation">,</span>
            <span class="token property">"closeOnExit"</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">"colorScheme"</span> <span class="token operator">:</span> <span class="token string">"Campbell"</span><span class="token punctuation">,</span>
            <span class="token property">"commandline"</span> <span class="token operator">:</span> <span class="token string">"cmd.exe"</span><span class="token punctuation">,</span>
            <span class="token property">"cursorColor"</span> <span class="token operator">:</span> <span class="token string">"#FFFFFF"</span><span class="token punctuation">,</span>
            <span class="token property">"cursorShape"</span> <span class="token operator">:</span> <span class="token string">"bar"</span><span class="token punctuation">,</span>
            <span class="token property">"fontFace"</span> <span class="token operator">:</span> <span class="token string">"Consolas"</span><span class="token punctuation">,</span>
            <span class="token property">"fontSize"</span> <span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token property">"guid"</span> <span class="token operator">:</span> <span class="token string">"{0caa0dad-35be-5f56-a8ff-afceeeaa6101}"</span><span class="token punctuation">,</span>
            <span class="token property">"historySize"</span> <span class="token operator">:</span> <span class="token number">9001</span><span class="token punctuation">,</span>
            <span class="token property">"icon"</span> <span class="token operator">:</span> <span class="token string">"ms-appx:///ProfileIcons/{0caa0dad-35be-5f56-a8ff-afceeeaa6101}.png"</span><span class="token punctuation">,</span>
            <span class="token property">"name"</span> <span class="token operator">:</span> <span class="token string">"cmd"</span><span class="token punctuation">,</span>
            <span class="token property">"padding"</span> <span class="token operator">:</span> <span class="token string">"0, 0, 0, 0"</span><span class="token punctuation">,</span>
            <span class="token property">"snapOnInput"</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">"startingDirectory"</span> <span class="token operator">:</span> <span class="token string">"%USERPROFILE%"</span><span class="token punctuation">,</span>
            <span class="token property">"useAcrylic"</span> <span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre>
<ul>
<li>Add an entry in this array for your linux shell. To populate this, you need the following values
<ul>
<li>Command to start your shell
<ul>
<li>To get list of WSL shells run the command <code>wsl.exe --list</code></li>
<li>To start a particular WSL shell run <code>wsl.exe -d &#x3C;shell_name_from_above></code></li>
<li>To set the home directory as default directory add <code>~</code> to the wsl.exe command</li>
<li>Our command to start Ubuntu-18.04 is <code>wsl.exe ~ -d Ubuntu-18.04</code></li>
</ul>
</li>
<li>A new GUID (unique id in this array)
<ul>
<li>A random GUID can be generated from the linux shell by running <code>uuidgen</code> command</li>
<li>Replace <code>&#x3C;guid></code> in the below snippet with your new GUID (leave the paranthesis intact)</li>
</ul>
</li>
<li>Name and icon for the entry
<ul>
<li>Give an identifiable name like <code>Ubuntu-18.04</code></li>
<li>For icon, you can give any file system path in the system. I am opting to use the default linux penguine logo that has been packaged along with the Windows Terminal. Hence, I set <code>ms-appx:///ProfileIcons/{9acb9455-ca41-5af7-950f-6bca1bc9722f}.png</code> as my icon path.</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre class="language-json"><code is:raw="" class="language-json">        <span class="token punctuation">{</span>
            <span class="token property">"acrylicOpacity"</span><span class="token operator">:</span><span class="token number">0.75</span><span class="token punctuation">,</span>
            <span class="token property">"closeOnExit"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">"colorScheme"</span><span class="token operator">:</span><span class="token string">"Campbell"</span><span class="token punctuation">,</span>
            <span class="token property">"commandline"</span><span class="token operator">:</span><span class="token string">"wsl.exe ~ -d Ubuntu-18.04"</span><span class="token punctuation">,</span>
            <span class="token property">"cursorColor"</span><span class="token operator">:</span><span class="token string">"#FFFFFF"</span><span class="token punctuation">,</span>
            <span class="token property">"cursorShape"</span><span class="token operator">:</span><span class="token string">"bar"</span><span class="token punctuation">,</span>
            <span class="token property">"fontFace"</span><span class="token operator">:</span><span class="token string">"Consolas"</span><span class="token punctuation">,</span>
            <span class="token property">"fontSize"</span><span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">,</span>
            <span class="token property">"guid"</span><span class="token operator">:</span><span class="token string">"{&#x3C;guid>}"</span><span class="token punctuation">,</span>
            <span class="token property">"historySize"</span><span class="token operator">:</span><span class="token number">9001</span><span class="token punctuation">,</span>
            <span class="token property">"icon"</span> <span class="token operator">:</span> <span class="token string">"ms-appx:///ProfileIcons/{9acb9455-ca41-5af7-950f-6bca1bc9722f}.png"</span><span class="token punctuation">,</span>
            <span class="token property">"name"</span><span class="token operator">:</span><span class="token string">"Ubuntu-18.04"</span><span class="token punctuation">,</span>
            <span class="token property">"padding"</span><span class="token operator">:</span><span class="token string">"0, 0, 0, 0"</span><span class="token punctuation">,</span>
            <span class="token property">"snapOnInput"</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token property">"startingDirectory"</span><span class="token operator">:</span><span class="token string">"%USERPROFILE%"</span><span class="token punctuation">,</span>
            <span class="token property">"useAcrylic"</span><span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">}</span>
</code></pre>
<ul>
<li>As soon as you save the <code>profiles.json</code> file, the changes will be picked up by the Windows Terminal and you can see your WSL shell.</li>
</ul>
<p><img src="/assets/images/2019-08-14-adding-msl-tab-to-windows-terminal/ubuntu-terminal.png" alt="Ubuntu in Terminal"></p>
<ul>
<li>Start a shell and start configuring it. I have configure my shell to be <code>zsh</code> shell with <code>oh-my-zsh</code> extension.</li>
</ul>
<p><img src="/assets/images/2019-08-14-adding-msl-tab-to-windows-terminal/zsh-terminal.png" alt="Zsh in Terminal"></p> </div> </div>  <footer> <div class="bg-gray-800 text-center py-8"> <div class="container mx-auto w-100 lg:w-2/3 xl:1/2 text-slate-200">
Made with ðŸ’™ by <a class="visited:text-white" rel="me" href="https://github.com/ganesshkumar"><span class="text-white">Ganessh Kumar</span></a><br> <a class="hidden" rel="me" href="https://hachyderm.io/@ganesshkumar">Mastodon</a> </div> </div> </footer> </body></html>